# Coding Rules

Purpose

- Ensure code is clear, maintainable, and self-explanatory without relying on inline comments.

Core rule

- Never write comments inside source code. If a comment is needed to explain what the code does or why it exists, refactor the code so its intent is obvious.

Guiding principles

- Use descriptive, intention-revealing names so variables, functions, types, and classes document their purpose.
- Prefer small, single-purpose functions and well-named helpers over long functions that require explanation.
- Keep logic straightforward: use early returns, clear conditionals, and expressive control flow.
- Rely on the type system, explicit interfaces, and well-structured code to communicate intent.
- Put long-form rationale, architectural decisions, and design trade-offs in external documentation (README, design docs, PR descriptions), not in code comments.
- Tests are part of documentation: write tests that clearly express expected behavior and edge cases.

Naming conventions

- Functions: use verbs, e.g., `fetchUserProfile`, `calculateRetryDelay`.
- Types/Classes/Interfaces: use nouns, e.g., `UserProfile`, `RetryPolicy`.
- Avoid abbreviations and vague names. Prefer `timeoutMs` over `t`, `maxRetries` over `mr`.
- Include units and context when relevant, e.g., `cacheDurationSeconds`, `fileSizeBytes`.

Refactoring guidance

- If a block of code needs explanation, extract it into a well-named function whose name conveys the behavior.
- If a variable's purpose is unclear, rename it rather than comment it.
- If intent depends on external constraints or historical decisions, record that in external docs and link to them from the PR description.

Acceptable minimal markers

- Minimal autogenerated headers required by tooling or license policies are allowed if standardized and minimal. Do not use comments for explanations, TODOs, or rationales.

Examples (bad -> good)

- Bad: const a = 5; // timeout in ms
  Good: const timeoutMs = 5;
- Bad: // increment counter
  Good:
  function incrementCounter(count: number) {
  return count + 1;
  }
- Bad: // retry on failure up to 3 times
  Good:
  function shouldRetry(attempt: number, maxRetries = 3) {
  return attempt < maxRetries;
  }

Enforcement

- Code reviews must flag explanatory comments and request renames, extra typing, or extraction to helpers instead.
- CI or linters may enforce a comment-policy where feasible; when a comment is deemed necessary by the team, its justification must be recorded in external documentation and the PR description.

If exceptions are considered

- Any exception to the "no comments" rule requires explicit team approval and documentation outside the codebase explaining why a comment was necessary.

Rationale

- Code that reads like documentation is easier to maintain, reduces drift between code and comments, and improves onboarding and review speed.
